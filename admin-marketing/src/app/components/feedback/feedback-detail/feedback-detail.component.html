<div class='row edit-feedback'>
	<a class="pull-left title-feedback">Chỉnh sửa phản hồi</a>
</div>
<div class="col-md-6 col-md-offset-3">
	<div *ngIf='feedback'>
        <form [formGroup]="feedbackForm" novalidate>
        	<div class="form-group">
        		<label class="center-block"> Họ tên:
        			<input class='form-control' name="name" 
        			formControlName="name"
                    [(ngModel)]="feedback.name"
                    [readonly]="true"
        			>
        		</label>
        	</div>
            <div class="form-group">
                <label class="center-block"> Email:
                    <input class='form-control' name="email" 
                    formControlName="email"
                    [(ngModel)]="feedback.email"
                    [readonly]="true"
                    >
                </label>
            </div>
            <div class="form-group">
                <label class="center-block"> Số điện thoại:
                    <input class='form-control' name="phone" 
                    formControlName="phone"
                    [(ngModel)]="feedback.phone"
                    [readonly]="true"
                    >
                </label>
            </div>
            <div class="form-group">
                <label class="center-block"> Chủ đề:
                    <textarea rows=3 class='form-control' name="subject" 
                    formControlName="subject"
                    [readonly]="true"
                    [(ngModel)]="feedback.subject">
                    </textarea> 
                </label>
            </div>
            <div class="form-group">
                <label class="center-block">Nội dung:
                    <textarea rows=3 class='form-control' name="message" 
                    formControlName="message"
                    [readonly]="true"
                    [(ngModel)]="feedback.message">
                    </textarea> 
                </label>
            </div>
            <div class="form-group">
                <label class="center-block"> Loại:
                    <input  class='form-control' name="feedback_type" 
                    formControlName="feedback_type"
                    [readonly]="true"
                    [(ngModel)]="feedback.feedback_type">
                </label>
            </div>
             <div class="form-group">
                <label class="center-block"> Ngày nhận:
                    <input type='date' class='form-control' name="sent_date" 
                    formControlName="sent_date"
                    [readonly]="true"
                    [(ngModel)]="feedback.sent_date"
                    >
                </label>
            </div>
             <div class="form-group">
                <label class="center-block"> Rating:
                     <input class='form-control' name="rate" 
                    formControlName="rate"
                    [readonly]="true"
                    [(ngModel)]="feedback.rate"
                    >
                </label>
            </div>
            <div class="form-group">
                <label class="center-block"> Trạng thái xử lý:
                    <select class='form-control' name="status" 
                    formControlName="status" [(ngModel)]="feedback.status">
                        <option *ngFor="let status of status" [ngValue]="status" [selected]="status === feedback.status">
                            {{status}}
                        </option>
                    </select>
                </label>
            </div>
            <div class="form-group">
                <label class="center-block"> Câu trả lời:
                    <textarea rows=5 class='form-control' name="answer" 
                    formControlName="answer"
                    [(ngModel)]="feedback.answer"
                    >
                </textarea>
                </label>
            </div>
            <button [disabled] = "feedbackForm.pristine" type="submit" class='btn btn-info' (click)="updateFeedback()">Lưu lại</button>
            <button type="submit" class='btn btn-danger' data-toggle="modal" data-target="#myModal" >Xóa </button>
        </form>
    </div>
</div>

<div class="container">
  <!-- Modal -->
  <div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
    
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Bạn có chắc chắn </h4>
        </div>
        <div class="modal-body">
          <p>Bạn muốn xóa phản hồi này.</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Hủy</button>
          <button type="button" (click)="deleteFeedback(feedback)" class=" pull-left btn btn-danger" data-dismiss="modal">Xóa </button>
        </div>
      </div>
      
    </div>
  </div>
  
</div>