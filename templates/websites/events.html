{% extends "layout.html" %}
{% load i18n %} 
{% block extrastylesheet %}
<link rel="stylesheet" href="{{ STATIC_URL }}assets/websites/css/helio_item.css">
<link rel="stylesheet" href="{{ STATIC_URL }}assets/websites/css/events.css">
{% endblock %}
{% block extrascript %}
<script type="text/javascript" src = "{{ STATIC_URL }}assets/websites/js/events.js"></script>
{% endblock %}
{% block main_content %} 
<!-- Page Header -->
<div class="container">
    <!-- CARD PAGE DESCRIPTION -->
    <div class="page-top">
        <div class="page-header-img">
            <div id="eventsCarousel" class="carousel slide carousel-custom" data-ride="carousel">
                <!-- Indicators -->
                <ol class="carousel-indicators carousel-indicators-custom">
                    <li data-target="#eventsCarousel" data-slide-to="0" class="active"></li>
                    <li data-target="#eventsCarousel" data-slide-to="1"></li>
                    <li data-target="#eventsCarousel" data-slide-to="2"></li>
                </ol>

                <!-- Wrapper for slides -->
                <div class="carousel-inner" role="listbox">
                    <div class="item active">
                        <img src="{{ STATIC_URL }}assets/websites/images/power_card_header.png" alt="Helio">
                    </div>
                    <div class="item">
                        <img src="{{ STATIC_URL }}assets/websites/images/power_card_header.png" alt="Helio">
                    </div>
                    <div class="item">
                        <img src="{{ STATIC_URL }}assets/websites/images/power_card_header.png" alt="Helio">
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        $(document).ready(function(){
            $(".event-month:first").addClass("active");
            $(".events-list-by-month:first").addClass("active");

            $(".event-item:first").addClass("active");
            $('.events-list-by-month').each(function() {
                $(this).find(".event-item:first").addClass("active");
            });

            $('.month-carousel').carousel({
                interval: false
            });
            // $('.events-courcel').carousel({
            //     interval: false
            // });
            $('.month-carousel').on('slide.bs.carousel', function (e) {
                var indexFrom = $('.month-carousel>.carousel-inner>.item.active').index();
                var indexTo = $(e.relatedTarget).index();
                $('.event-month').eq(indexFrom).hide()
                $('.event-month').eq(indexTo).show();
            });
        });
    </script>
    <style type="text/css">
        .event-month:not(.active) {
            display: none;
        }
        /*.event-item:not(.active) {
            display: none;
        }*/
    </style>
    {% if result.events_map %}
    <div class="row">
        <div class="col-md-6">
            {% for key, values in result.events_map.items %}
                <h4 class="event-month">{{key}}</h4>
            {% endfor %}
        </div>
        <div class="col-md-6">
            <div class="pull-right">
                <!-- <button class="month-btn-prev"><i class="fa fa-arrow-left" aria-hidden="true"></i></button>
                <button class="month-btn-next"><i class="fa fa-arrow-right" aria-hidden="true"></i></button> -->
                <button class="month-btn-prev" href="#month_coursel" data-slide="prev"><i class="fa fa-arrow-left" aria-hidden="true"></i></button>
                <button class="month-btn-next" href="#month_coursel" data-slide="next"><i class="fa fa-arrow-right" aria-hidden="true"></i></button>
            </div>
        </div>
    </div>
    <div class="row events-list">
        <div class="carousel slide month-carousel" id="month_coursel">
            <div class="carousel-inner">
            {% for key, values in result.events_map.items %}
                <div class="item events-list-by-month">
                    <div class="events-courcel" id="event_coursel_{{forloop.counter}}">
                        <div>
                            {% for event in values %}
                            <div class="item event-item col-xs-2">
                                <a href="#"><img src="{{MEDIA_URL}}{{event.image}}" alt="Image" class="img-responsive"></a>
                            </div>
                            {% endfor %}
                        </div>
                        <!-- <div align="center">
                            <button class="month-btn-prev" href="#event_coursel_{{forloop.counter}}" data-slide="prev"><i class="fa fa-arrow-left" aria-hidden="true"></i></button>
                            <button class="month-btn-next" href="#event_coursel_{{forloop.counter}}" data-slide="next"><i class="fa fa-arrow-right" aria-hidden="true"></i></button>
                        </div> -->
                    </div>
                </div>
            {% endfor %}
            </div>

        </div>
    </div>


    <!-- <div class="row events-list" class="carousel slide" data-ride="carousel">
        {% for key, values in result.events_map.items %}
            <div class="events-list-by-month">
                {% for event in values %}
                <div class="col-md-2">
                    {{event.name}}
                </div>
                {% endfor %}
            </div>
            
        {% endfor %}
    </div> -->
    {% endif %}

    {% if result.events %}
    <div class="tab-content">
        <div role="tabpanel" class="tab-pane" id="events_content">
            <div class="row view-more-div">
                <!--  KID GAME CONTENT -->
                <div class="kids-game-content col-md-12">
                    {% for event in result.events %}
                    {% if forloop.counter|divisibleby:2 %} 
                    <div class="item-line content-pull-left col-md-12" style="display: none;">
                        <div class="row">
                            <div class="item-content-text col-md-5 pull-right">
                                <div class="col-md-9 image-text pull-right">
                                    <div class="image-text-head">
                                        <p>CHUONG TRINH HE <span class="glyphicon glyphicon-play"></span></p>
                                    </div>
                                    <p class="item-name">{{event.name}}</p>
                                    <p class="item-description short_description">{{event.short_description}}</p>
                                    <a class="btn btn-custom-style btn-custom-style-events" href="#" role="button">{% trans "btn.click_now" %}<span class="glyphicon glyphicon-menu-right"></span></a>
                                </div>
                            </div>
                            <div class="item-content-image col-md-9">
                                <div class="row"><img src="{{ MEDIA_URL }}{{event.image}}" width="100%" height="100%"></div>
                            </div>
                        </div>
                    </div>
                    {% else %}
                    <div class="item-line content-pull-right col-md-12" style="display: none;">
                        <div class="row">
                            <div class="item-content-text col-md-5">
                                <div class="col-md-9 image-text">
                                    <div class="image-text-head">
                                        <p>CHUONG TRINH HE <span class="glyphicon glyphicon-play"></span></p>
                                    </div>
                                    <p class="item-name">{{event.name}}</p>
                                    <p class="item-description short_description">{{event.short_description}}</p>
                                    <a class="btn btn-custom-style btn-custom-style-events" href="#" role="button">{% trans "btn.click_now" %}<span class="glyphicon glyphicon-menu-right"></span></a>
                                </div>
                            </div>
                            <div class="item-content-image col-md-9 ">
                                <div class="row">
                                    <img src="{{ MEDIA_URL }}{{event.image}}" width="100%" height="100%">
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endif %}
                    {% endfor %}
                </div>
                <div class="btn-read-more div-view-more col-md-12" align="center">
                    <a class="btn-view-more btn-custom-style btn-custom-style-events-view-more" role="button">{% trans "btn.view_more" %}</a>
                </div>
            </div>
            
        </div>
    </div>
    {% endif %}

    <!-- DOWNLOAD APP BANNER -->
    <div class="app-banner">
        <a href="#"><img src="{{ STATIC_URL }}assets/websites/images/download-app_banner.png" width="100%"></a>
    </div>
</div>

{% endblock %}